# 3dProject

캐릭터매니저 : 인스턴화 시켜 플레이어의 값들을
간편하게 관리할수 있게 함
어떻게? 인스턴스가 널일때 게임오브젝트 캐릭터매니저에
애드컴포넌트 캐릭터매니저를 넣고
돈디스트로이온로드를 넣어서 항시 캐릭터매니저를
존재할수 있게하고 플레이어의 값을 받아서 사용함

플레이어 : 다른 스크립트들의 정보를 받아서
관리할수 있게함
플레이어를 인스턴스화 하지 않는이유?
그럼 플레이어를 하나더 생성할수 없으니?

온무브인풋 : 액션방식으로 인보크 유니티 이벤트를 통해 이벤트를 등록하고
현재 상태를 가져옴.해당되는 키를 누르는동안의 플레이어의 이동값을 받아 읽어옴
이때 업데이트처럼 계속 실행되는게 아니고 한번만 실행됨
키를 때면 값을 안받음

온무브 : Vector2로 받아온 값을 z,x값에 저장하고 y값은 3d에서 뛰는 느낌이기때문에
리지드바디 밸로시티에서 값을 따로 받아 저장. 그 값들을을 밸로시티에 넣어 실행
밸로시티의 기본값은 0이다

온룩인풋 : 마우스 이동량을 받아옴

카메라룩 : 마우스의 이동량y와 사용자가 지정한 민감도 값을 곱하고 변수에 넣음
그 변수는 카메라가 볼수있는 각도 최소값 최대값을 넘지 않게 함
그 값을 -해서 x값에 넣어줌 -안하면 화면 상하좌우 반대로 움직임
그리고 y값도 마우스 이동량 x값과 민감도를 곱한후 회전값에 더해줌

이즈그라운디드 : 땅이 울퉁불퉁할수 있으니
플레이어 기준으로 책상다리처럼 레이를 만들고 땅에 닿아있을때
그라운드를 인지못하고 레이를 쏠수 있어서 살짝 올려줍니다
그후 if문에서 ray를 순회하며 0.1 길이의 레이를 쏘고 레이어마스크에 해당되는
레이어들만 검출할수 있게함.

fixedUpdate에서 빠르게 이동하고, 그값을 받아 cameraLook을 해야하기때문에
lateUpdate로 살짝늦게 받아 값을 적용합니다

별도의 유아이스크립트를 만드는이유 : 
인터페이스 : 공통된 작업을 하는 함수들을
인터페이스로 만들어서 상속받아 구현함
Interection에 IInterectable - 레이를 쏴서 상호작용함
PlayerCondition에 IDamagable - 대미지를 줌 - 체력을 깎음

캠프파이어 : 트리거에 닿으면 데미지를 입힘
트리거 나오면 데미지 안입음

대미지인디케이터 : 캐릭터가 데미지를 입으면
플래쉬(color)색으로 코루틴을 이용한 잠깐 번쩍임 효과

UI 스크립트 구조 
컨디션 :  UI바의 컬밸류의 값을 빼고 더해줌
데미지 인디게이터 : 데미지를 입을때 flash를 호출함
아이템 슬롯 : 아이템을 클릭하면 OutLine과 갯수를 출력함
유아이컨디션 : 체력 배고픔 스테미나를 표시해줌
유아이 인벤토리 : 인벤토리 표시해줌


상호작용 : 체크레이트 시간마다 확인함
레이를 카메라 높이와 넓이/2만큼 쏴줌
최대거리만큼 레이어마스크에 설정된것들만 맞을수 잇게함
레이에 맞으면 설정해놓은 텍스트가 보일수 있게함
안맞으면 안뜸


인벤토리 : 일단 UI를 만들어놓고, 이벤트 액션으로
키를 누르면 인벤토리 UI가 켜지도록 설정
아이템이 들어오면 슬롯에 데이터가 있는지 확인한후 없으면
아이템 데이터 넣고 아이템아이콘을 켜주고
아이템 누르면 아이템 형식에 맞게 해당 UI 켜주고
다른거 누르면 UI 꺼주고
갯수를 표시할수 있는 아이템이면 갯수를(스택) 표시해줌
아이템 버릴때 1개 360도 회전값 랜덤으로 버림 다버리면 해당아이템 안보이게함
아이템 장착가능이면 장착함

 
// https://github.com/omyman12/3dProject/tree/main
// https://velog.io/@qkrrlcks00/TIL-45
// V : 시점 변경
// Shift : 달리기 
// tab : 인벤토리
// sapce bar : 점프
// E : 아이템 줍기 
// 배 위로 올라가면 슈퍼점프를 할 수 있습니다.
// 슈퍼점프를 이용해 움직이는 노 위로 올라갈수 있습니다.
// 햄버거를 먹으면 5초간 이동속도가 빨라집니다.
// 점프와 달리기를 하면 스태미나가 줄어듭니다.
